"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e,n=require("@duiba/event-bus"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};!function(t){t[t.running=0]="running",t[t.paused=1]="paused",t[t.stoped=2]="stoped"}(t||(t={})),exports.CountdownEventName=void 0,(e=exports.CountdownEventName||(exports.CountdownEventName={})).START="start",e.STOP="stop",e.RUNNING="running";var r=function(e){function n(n,o){void 0===o&&(o=1e3);var r=e.call(this)||this;return r.remainTime=0,r.status=t.stoped,r.endTime=n,r.step=o,r.start(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(n,e),n.prototype.start=function(){this.fire(exports.CountdownEventName.START),this.status=t.running,this.countdown()},n.prototype.stop=function(){this.fire(exports.CountdownEventName.STOP),this.status=t.stoped},n.prototype.countdown=function(){var e=this;this.status===t.running&&(this.remainTime=Math.max(this.endTime-Date.now(),0),this.fire(exports.CountdownEventName.RUNNING,{parseRemainTime:this.parseRemainTime(this.remainTime),remainTime:this.remainTime}),this.remainTime>0?setTimeout((function(){return e.countdown()}),this.step):this.stop())},n.prototype.parseRemainTime=function(t){var e=t,o=Math.floor(e/n.DAY_IN_MILLISECOND);e%=n.DAY_IN_MILLISECOND;var r=Math.floor(e/n.HOUR_IN_MILLISECOND);e%=n.HOUR_IN_MILLISECOND;var i=Math.floor(e/n.MINUTE_IN_MILLISECOND);e%=n.MINUTE_IN_MILLISECOND;var s=Math.floor(e/n.SECOND_IN_MILLISECOND);return e%=n.SECOND_IN_MILLISECOND,{days:o,hours:r,minutes:i,seconds:s,count:Math.floor(e/n.COUNT_IN_MILLISECOND)}},n.COUNT_IN_MILLISECOND=100,n.SECOND_IN_MILLISECOND=10*n.COUNT_IN_MILLISECOND,n.MINUTE_IN_MILLISECOND=60*n.SECOND_IN_MILLISECOND,n.HOUR_IN_MILLISECOND=60*n.MINUTE_IN_MILLISECOND,n.DAY_IN_MILLISECOND=24*n.HOUR_IN_MILLISECOND,n}(n.EventCenterClass);exports.Countdown=r,exports.fillZero=function(t){return("0"+t).slice(-2)};
