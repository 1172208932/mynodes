"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e,t,r){this.type=e,this.target=t,this.detail=r,this.timeStamp=+new Date},t=function(){function t(){this._listeners={}}return t.prototype.on=function(e,t,r,n){for(var i,s=(i=this._listeners=this._listeners||{})[e]=i[e]||[],l=0,o=s.length;l<o;l++){if(s[l].listener===t)return}return s.push({listener:t,context:r,once:n}),this},t.prototype.off=function(e,t){var r;if(r=this._listeners=this._listeners||{},0==arguments.length)return r=null,this;var n=r&&r[e];if(n){if(1==arguments.length)return delete r[e],this;for(var i=0,s=n.length;i<s;i++){var l=n[i];if(l.listener===t){n.splice(i,1),0===n.length&&delete r[e];break}}}return this},t.prototype.fire=function(t,r){var n,i;"string"==typeof t?i=t:(n=t,i=t.type);var s=this._listeners;if(!s)return!1;var l=s[i];if(l){var o=l.slice(0);n=n||new e(i,this,r);for(var f=0;f<o.length;f++){var h=o[f];if(h.listener.call(h.context,n),h.once){var a=l.indexOf(h);a>-1&&l.splice(a,1)}}return 0==l.length&&delete s[i],!0}return!1},t}(),r=new t;exports.EventCenterClass=t,exports.default=r;
